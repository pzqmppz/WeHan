# C 端技术框架 - WeHan 求职助手

> 基于扣子智能体平台 + 豆包 App，采用「单 Agent + 技能路由 + B 端 API 单一数据源」架构

**更新时间**: 2026-02-28 (v3.0 - 纯 API 架构，移除知识库依赖)

---

## 一、技术架构

```
┌─────────────────────────────────────────────────────────────────┐
│                    C 端技术架构（单 Agent 版）                  │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ┌─────────────────┐                                           │
│  │   豆包 App      │  ← 用户入口（iOS/Android/小程序）          │
│  │   (用户交互)    │                                           │
│  └────────┬────────┘                                           │
│           │                                                    │
│  ┌────────▼────────────────────────────────┐                   │
│  │        WeHan 求职助手（单 Bot）          │                   │
│  │        ┌──────────────────────┐         │                   │
│  │        │ 【主 Bot】极简路由    │         │                   │
│  │        │ 意图识别：面试 vs 心理 │         │                   │
│  │        └──────────┬───────────┘         │                   │
│  │                   │                     │                   │
│  │         ┌─────────┴─────────┐           │                   │
│  │         ▼                   ▼           │                   │
│  │    ┌─────────┐        ┌─────────┐      │                   │
│  │    │ 技能1：  │        │ 技能2：  │      │                   │
│  │    │ AI面试  │        │心理疏导  │      │                   │
│  │    │(工作流) │        │(子技能) │      │                   │
│  │    └────┬────┘        └────┬────┘      │                   │
│  │         │                  │           │                   │
│  └─────────┼──────────────────┼───────────┘                   │
│            │                  │                               │
│  ┌─────────▼──────────────────▼───────────────────────────┐   │
│  │                   能力组件                               │   │
│  ├─────────────────────────────────────────────────────────┤   │
│  │ • 实时语音 SDK (@coze/realtime-api)                     │   │
│  │ • 面试工作流 (独立上下文)                                │   │
│  │ • HTTP 插件 (B 端 API 调用)                             │   │
│  │ • 云端数据库 (简历/会话持久化)                           │   │
│  └─────────────────────────────────────────────────────────┘   │
│                            │                                   │
│  ┌─────────────────────────▼───────────────────────────────┐   │
│  │              B 端开放 API                                │   │
│  │  /api/open/jobs, /api/open/applications, /api/open/...  │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

---

## 二、架构变更记录

### v2.x → v3.0 架构变更（2026-02-28）

| 变更项 | v2.x（旧架构） | v3.0（新架构） | 原因 |
|-------|---------------|---------------|------|
| **知识库** | 使用 Coze 知识库存储岗位/政策数据 | ❌ **完全移除** | API 测试全部返回 404 |
| **数据源** | Coze 知识库 + B 端 API | ✅ **仅 B 端 API** | 单一数据源，实时查询 |
| **部署方式** | API 自动创建知识库 + 上传文档 | ⚠️ 网页手动配置工作流 | 工作流 API 不可用 |
| **维护成本** | 维护两份数据（同步问题） | ✅ 仅维护 B 端数据库 | 降低复杂度 |
| **API 依赖** | 智能体 + 知识库 + 工作流 API | ✅ **仅智能体 API** | 移除不可用依赖 |

### API 测试结果（35+ 端点）

| 类别 | 可用 | 不可用 |
|-----|------|--------|
| **智能体 API** | 3 个 | 5 个 |
| **工作流 API** | 0 个 | 12+ 个 |
| **知识库 API** | 0 个 | 8+ 个 |

**可用的端点**：
```
✅ POST /v1/bot/create           -> 200 OK
✅ POST /v1/bot/update           -> 200 OK
✅ GET  /v1/bots?workspace_id=   -> 200 OK
```

**不可用的端点**（官方文档描述但测试返回 404）：
```
❌ POST /v1/bot                   -> 404
❌ POST /v1/workflow              -> 404
❌ POST /v1/knowledge_base       -> 404
```

---

## 三、技术选型

| 组件 | 技术 | 状态 | 说明 |
|-----|------|------|-----|
| 智能体平台 | 扣子 (Coze) | ✅ 已验证 | 仅智能体 API 可用 |
| 用户入口 | 豆包 App | ✅ | iOS/Android/小程序 |
| 实时语音 | @coze/realtime-api | ⏳ 待测试 | WebSocket 语音 SDK |
| 语音底层 | 火山引擎 Realtime API | ⏳ 待测试 | 端到端语音模型 |
| 知识库 | ~~扣子知识库~~ | ❌ **已移除** | API 不可用，改用 B 端 API |
| 外部调用 | HTTP 插件 | ✅ 已验证 | 直接调用 B 端 API |

---

## 三、智能体设计（单 Agent + 技能路由）

### 3.1 WeHan 求职助手（统一入口）

**架构特点**:
- 单一智能体入口，简化用户体验
- 主 Bot 仅负责意图路由，不处理具体业务
- 各技能拥有独立上下文，互不干扰
- 面试流程中禁止切入心理疏导，确保流程完整性

**技能分配**:

| 技能 | 触发关键词 | 实现方式 | 上下文 | 优先级 |
|-----|----------|---------|-------|-------|
| **AI 面试模拟** | 面试、刷题、岗位、简历 | 工作流 + 实时语音 SDK | 独立工作流 | P0 |
| **心理疏导** | 焦虑、难受、压力大、心情不好 | 触发式子技能 | 不干扰主流程 | P0 |
| **简历解析** | 上传简历、解析简历 | 文件上传 + 大模型 | 动态注入 | P0 |
| **岗位匹配** | 搜索岗位、推荐工作 | B 端 API + 大模型 | 独立 | P1 |

**主 Bot Prompt 框架**（极简路由）:

```markdown
# 角色
你是 WeHan 求职助手，为武汉高校毕业生提供一站式求职服务。

## 你有两大核心技能，会自动识别用户需求：

【技能1：求职服务（核心）】
- AI模拟面试：根据岗位JD出题、语音对话、生成评估报告
- 简历解析、岗位匹配、一键投递
- 只推荐武汉地区岗位

【技能2：心理疏导与情绪陪伴】
- 倾听求职压力、焦虑、迷茫、挫败等情绪
- 温柔共情、给予鼓励和疏导
- 不做医疗诊断，只做陪伴式安慰

## 你的行为规则
1. 用户如果说：面试、刷题、岗位、简历、投递 → 触发「求职工作流」
2. 用户如果说：焦虑、难受、压力大、心情不好 → 进入「情绪疏导模式」
3. 不强行推荐功能，用户问什么就答什么
4. **面试流程进行中，专注于面试，不切入心理疏导**
5. 语气统一：专业、温暖、可靠

## 开场白
你好！我是 WeHan 求职助手 👋

我可以帮你：
- 🎤 AI 模拟面试 - 实战练习，提升面试能力
- 📄 简历解析 - 智能分析，生成人才画像
- 🔍 岗位匹配 - 精准推荐，找到心仪工作
- 💚 心理支持 - 缓解焦虑，陪伴求职路

你想做什么？
```

**面试工作流设计**（独立上下文）:

```
面试模拟工作流（上下文隔离）:
┌─────────────────────────────────────────────────────────┐
│  开始                                                    │
│    ↓                                                    │
│  [输入节点] 接收参数：job_id, user_id                    │
│    ↓                                                    │
│  [HTTP 节点] GET /api/open/jobs/{job_id}                │
│    │ 获取岗位 JD                                        │
│    ↓                                                    │
│  [大模型节点] 生成面试题目（10-20道）                    │
│    │ 输入：JD + 用户简历（从云端数据库注入）             │
│    │ 输出：JSON格式题目列表                             │
│    ↓                                                    │
│  [变量节点] 存储题目列表                                  │
│    ↓                                                    │
│  [交互节点] 启动实时语音面试 ←── WebSocket SDK           │
│    │ 逐题提问，收集回答                                  │
│    │ 支持追问、拓展、调整难度                            │
│    ↓                                                    │
│  [大模型节点] 评估每个回答                                │
│    │ 输入：题目 + 回答                                   │
│    │ 输出：评分 + 点评                                   │
│    ↓                                                    │
│  [大模型节点] 生成综合评估报告                            │
│    │ 输入：所有评分 + 点评                               │
│    │ 输出：结构化 JSON 报告                              │
│    ↓                                                    │
│  [HTTP 节点] POST /api/open/interviews                  │
│    │ 保存报告到 B 端                                     │
│    ↓                                                    │
│  [输出节点] 返回报告给用户                                │
│    ↓                                                    │
│  结束                                                    │
└─────────────────────────────────────────────────────────┘
```

**心理疏导技能**（触发式子技能）:

| 特性 | 说明 |
|-----|------|
| 触发方式 | 用户表达负面情绪（焦虑、压力、迷茫等）时自动触发 |
| 工作方式 | 触发式加载，不主动推送 |
| 面试中处理 | **面试进行中禁止切入**，避免打断流程 |
| 上下文 | 温和共情，不做医疗诊断，仅提供陪伴式安慰 |

**为什么单 Agent 优于双 Agent**:

| 对比项 | 双 Agent（求职+心理分开） | 单 Agent + 技能路由 |
|-------|-------------------------|-------------------|
| 用户体验 | 需要切换入口 | 一个入口完成所有功能 |
| 上下文连贯 | 两个独立上下文 | 面试后可直接安慰 |
| 维护成本 | 需要维护两套 Prompt | 统一维护 |
| 发布次数 | 需要发布两次 | 只需发布一次 |
| 精度控制 | 各自独立，但体验割裂 | 上下文隔离，精度不减 |

---

## 四、模块垂直开发计划（单 Agent 版）

### 模块 1：WeHan 求职助手基础版（4 天）

**开发方式：本地配置 + API 上传**

```
本地编写配置 → Schema 校验 → API 创建/更新 → 发布到豆包
```

| 步骤 | 内容 | 工时 |
|-----|------|-----|
| 1. 本地编写配置 | wehan_bot.json（路由 Prompt） | 0.5 天 |
| 2. 配置环境变量 | PAT、Space ID、B 端 API | 0.5 天 |
| 3. Schema 校验 | 验证 JSON 格式正确性 | 0.5 天 |
| 4. API 创建智能体 | bot/create 接口 | 0.5 天 |
| 5. 测试对话 | 多轮对话调试（扣子预览） | 1 天 |
| 6. 发布到豆包 | bot/publish 接口 | 1 天 |

**本地配置文件** (`config/local/wehan_bot.json`):

```json
{
  "name": "WeHan 求职助手",
  "description": "武汉高校毕业生一站式求职助手（AI面试+心理陪伴）",
  "instructions": "# 角色：WeHan 求职&心理陪伴助手\n\n你是为武汉高校毕业生服务的一站式求职助手，同时具备情绪支持能力。\n\n## 你有两大核心技能，会自动识别用户需求：\n\n【技能1：求职服务（核心）】\n- AI模拟面试：根据岗位JD出题、语音对话、生成评估报告\n- 简历解析、岗位匹配、一键投递\n- 只推荐武汉地区岗位\n\n【技能2：心理疏导与情绪陪伴】\n- 倾听求职压力、焦虑、迷茫、挫败等情绪\n- 温柔共情、给予鼓励和疏导\n- 不做医疗诊断，只做陪伴式安慰\n\n## 你的行为规则\n1. 用户如果说：面试、刷题、岗位、简历、投递 → 触发「求职工作流」\n2. 用户如果说：焦虑、难受、压力大、心情不好 → 进入「情绪疏导模式」\n3. 不强行推荐功能，用户问什么就答什么\n4. 面试流程进行中，专注于面试，不切入心理疏导\n5. 语气统一：专业、温暖、可靠",
  "welcome_message": "你好！我是 WeHan 求职助手 👋\n\n我可以帮你：\n- 🎤 AI 模拟面试 - 实战练习，提升面试能力\n- 📄 简历解析 - 智能分析，生成人才画像\n- 🔍 岗位匹配 - 精准推荐，找到心仪工作\n- 💚 心理支持 - 缓解焦虑，陪伴求职路\n\n你想做什么？",
  "visibility": "private"
}
```

**验收标准**:
- ✅ Schema 校验通过
- ✅ 扣子平台可看到智能体
- ✅ 豆包 App 可搜索到
- ✅ 意图路由正确识别
- ✅ 开场白正确显示

---

### 模块 2：实时语音集成（5 天）

**技术实现**:

```typescript
// 前端示例（如需 Web 嵌入）
import { RealtimeClient, RealtimeUtils } from '@coze/realtime-api';

const client = new RealtimeClient({
  accessToken: getToken,
  botId: 'bot_xxx',
  connectorId: '1024',
  voiceId: '7426720361733046281',
  allowPersonalAccessTokenInBrowser: true,
  debug: true,
});

// 连接
await client.connect();

// 切换麦克风
await client.setAudioEnable(true);

// 打断
client.interrupt();

// 断开
client.disconnect();
```

**扣子配置**:

| 配置项 | 值 | 说明 |
|-------|---|-----|
| input_audio.format | pcm | 输入格式 |
| input_audio.sample_rate | 24000 | 采样率 |
| output_audio.codec | pcm | 输出编码 |
| output_audio.voice_id | 精品音色 | 音色 ID |
| turn_detection.type | semantic_vad | 语音检测 |

**验收标准**:
- ✅ 语音对话延迟 < 500ms
- ✅ 语义 VAD 正常工作
- ✅ 打断功能正常
- ✅ 语音清晰无杂音

---

### 模块 3：面试模拟工作流（7 天）

**工作流节点设计**:

```
┌──────────────────────────────────────────────────────────┐
│                   面试模拟工作流                          │
├──────────────────────────────────────────────────────────┤
│                                                          │
│  [开始节点]                                               │
│      │                                                   │
│      ▼                                                   │
│  [输入节点] 接收参数：job_id, user_id                     │
│      │                                                   │
│      ▼                                                   │
│  [HTTP 节点] GET /api/open/jobs/{job_id}                 │
│      │ 获取岗位 JD                                       │
│      ▼                                                   │
│  [大模型节点] 生成面试题目                                 │
│      │ 输入：JD + 岗位类别                                │
│      │ 输出：5-10 道面试题                                │
│      ▼                                                   │
│  [变量节点] 存储题目列表                                   │
│      │                                                   │
│      ▼                                                   │
│  [交互节点] 启动语音面试                                   │
│      │ 逐题提问，收集回答                                  │
│      ▼                                                   │
│  [大模型节点] 评估回答                                     │
│      │ 输入：题目 + 回答                                  │
│      │ 输出：评分 + 点评                                  │
│      ▼                                                   │
│  [大模型节点] 生成报告                                     │
│      │ 输入：所有评分 + 点评                              │
│      │ 输出：结构化评估报告                               │
│      ▼                                                   │
│  [HTTP 节点] POST /api/open/interviews                   │
│      │ 保存报告到 B 端                                   │
│      ▼                                                   │
│  [输出节点] 返回报告给用户                                 │
│      │                                                   │
│      ▼                                                   │
│  [结束节点]                                               │
│                                                          │
└──────────────────────────────────────────────────────────┘
```

**评估报告结构**:

```json
{
  "totalScore": 78,
  "dimensions": [
    { "name": "专业知识", "score": 85, "maxScore": 100 },
    { "name": "表达能力", "score": 72, "maxScore": 100 },
    { "name": "逻辑思维", "score": 80, "maxScore": 100 },
    { "name": "应变能力", "score": 75, "maxScore": 100 }
  ],
  "highlights": [
    { "question": "...", "answer": "...", "score": 90 }
  ],
  "improvements": [
    { "area": "表达能力", "suggestion": "建议多练习结构化表达..." }
  ],
  "suggestions": "整体表现良好，建议加强..."
}
```

**验收标准**:
- ✅ 根据 JD 生成针对性题目
- ✅ 面试过程流畅
- ✅ 评估报告结构完整
- ✅ 报告保存到 B 端数据库

---

### 模块 4：简历解析（4 天）

**实现方式**:

| 步骤 | 内容 |
|-----|------|
| 1. 用户上传简历 | PDF/Word/图片 |
| 2. 大模型解析 | 提取结构化信息 |
| 3. 生成人才画像 | 总结优势、技能 |
| 4. 存储数据 | 调用 B 端 API 保存 |

**解析输出结构**:

```json
{
  "name": "张三",
  "phone": "13800138000",
  "email": "zhangsan@example.com",
  "education": [
    {
      "school": "武汉大学",
      "major": "计算机科学",
      "degree": "本科",
      "startDate": "2020-09",
      "endDate": "2024-06"
    }
  ],
  "experiences": [...],
  "skills": ["JavaScript", "React", "Node.js"],
  "profile": {
    "summary": "具备扎实的前端开发能力...",
    "strengths": ["技术栈全面", "项目经验丰富"],
    "careerGoals": "希望从事前端开发工作"
  }
}
```

---

### 模块 5：岗位匹配（5 天）

**架构说明**（v3.0 纯 API 架构）:

> 由于 Coze 知识库 API 不可用，岗位匹配功能改用以下方式实现：
> - 直接调用 B 端 `GET /api/open/jobs` API
> - 通过大模型进行语义匹配和推荐
> - 无需维护知识库，实时查询岗位数据

**HTTP 插件配置**:

```json
{
  "name": "岗位搜索",
  "method": "GET",
  "url": "https://api.wehan.com/api/open/jobs",
  "headers": {
    "Authorization": "Bearer {api_key}"
  },
  "params": {
    "keyword": "{{user_input}}",
    "location": "武汉",
    "limit": 10
  }
}
```

**匹配实现**（v3.0）:
1. 接收用户查询（关键词、技能、意向）
2. 调用 B 端 `GET /api/open/jobs` API（实时查询）
3. 大模型根据用户画像和岗位信息进行智能匹配
4. 返回 Top N 岗位 + 匹配理由

---

### 模块 6：用户数据持久化与会话恢复（4 天）

**核心需求**:
1. 简历信息存储与复用（云端数据库）
2. 上下文存储与会话恢复（克服 Coze 原生上下文仅限单会话的限制）

**简历信息存储流程**:

```
用户上传简历 → 大模型解析 → 存储到云端数据库（绑定 user_id）
    ↓
下次对话时 → 调取简历信息 → 注入工作流 → 生成针对性面试题
```

**会话恢复流程**:

```
用户首次对话 → 生成唯一会话ID → 实时存储交互数据到云端数据库
    ↓
用户断连（关闭对话/退出/网络异常）
    ↓
用户再次进入 → 展示「历史会话列表」
    ↓
用户选择要恢复的会话 → 调取历史数据 → 注入Coze新会话 → 续跑
```

**实现方式**:

| 步骤 | 内容 | 工时 |
|-----|------|-----|
| 1. 设计数据库表 | resumes、conversations | 0.5 天 |
| 2. 实现简历存储 API | 保存/获取用户简历 | 1 天 |
| 3. 实现会话管理 API | 保存/获取/恢复会话 | 1.5 天 |
| 4. 前端交互开发 | 历史会话列表、恢复按钮 | 1 天 |

**验收标准**:
- ✅ 用户简历可跨会话复用
- ✅ 面试中断后可从断点续接
- ✅ 历史会话列表正确展示
- ✅ 恢复会话时上下文连贯

---

## 五、B 端 API 集成

### 开放 API 调用映射

| C 端功能 | B 端 API | 方法 |
|---------|---------|------|
| 获取岗位列表 | /api/open/jobs | GET |
| 获取岗位详情 | /api/open/jobs/{id} | GET |
| 提交投递 | /api/open/applications | POST |
| 获取面试报告 | /api/open/interviews/{id} | GET |
| 保存简历 | /api/open/resumes | POST |
| 获取政策列表 | /api/open/policies | GET |

### HTTP 插件配置示例

```json
{
  "plugins": [
    {
      "name": "WeHan岗位服务",
      "api": {
        "base_url": "https://api.wehan.com/api/open",
        "auth": {
          "type": "bearer",
          "token": "{{api_key}}"
        },
        "endpoints": [
          {
            "name": "搜索岗位",
            "method": "GET",
            "path": "/jobs",
            "params": ["keyword", "industry", "limit"]
          },
          {
            "name": "提交投递",
            "method": "POST",
            "path": "/applications",
            "body": ["user_id", "job_id", "resume_id"]
          }
        ]
      }
    }
  ]
}
```

---

## 六、用户体验流程（单 Agent 版）

### 统一入口流程

```
用户打开豆包 App
    ↓
搜索/点击 WeHan 求职助手
    ↓
┌─────────────────────────────────────┐
│ 开场白：                             │
│ "你好！我是 WeHan 求职助手 👋        │
│                                     │
│ 我可以帮你：                         │
│ - 🎤 AI 模拟面试 - 实战练习         │
│ - 📄 简历解析 - 智能分析            │
│ - 🔍 岗位匹配 - 精准推荐            │
│ - 💚 心理支持 - 缓解焦虑            │
│                                     │
│ 你想做什么？"                       │
└─────────────────────────────────────┘
    ↓
用户输入需求（智能体自动识别意图）
    ↓
    ├─→ 面试/刷题/岗位 → 触发【AI 面试工作流】
    ├─→ 焦虑/压力大/心情不好 → 进入【心理疏导模式】
    ├─→ 上传简历 → 【简历解析】
    └─→ 搜索岗位 → 【岗位匹配】
```

### 面试流程（核心功能）

```
用户选择"AI 面试"
    ↓
┌─────────────────────────────────────┐
│ AI：请问你想面试哪个岗位？           │
│     我可以为你推荐武汉的热门岗位     │
└─────────────────────────────────────┘
    ↓
用户输入/选择岗位
    ↓
【启动面试工作流】
    ↓
┌─────────────────────────────────────┐
│ 1. 获取岗位 JD                       │
│ 2. 生成 10-20 道针对性面试题         │
│ 3. 启动实时语音面试                  │
│    - AI 逐题提问                     │
│    - 用户语音回答                    │
│    - 支持追问、拓展                  │
│ 4. 生成评估报告                      │
│ 5. 保存到云端数据库                  │
└─────────────────────────────────────┘
    ↓
展示报告 + 心理疏导（如面试不顺）
    ↓
用户可继续投递岗位或再次练习
```

### 心理疏导流程（触发式）

```
用户表达负面情绪（任何时候）
    ↓
    "最近找工作压力好大，感觉好焦虑..."
    ↓
【自动触发心理疏导模式】
    ↓
┌─────────────────────────────────────┐
│ AI：我理解你的感受，求职确实会让人  │
│     感到焦虑。你具体是担心哪个方面？  │
│     - 面试准备不够充分？             │
│     - 找不到合适的岗位？             │
│     - 还是其他原因？                 │
└─────────────────────────────────────┘
    ↓
用户倾诉（文字/语音）
    ↓
AI 共情回复 + 引导
    ↓
记录情绪状态（云端存储）
    ↓
提供应对建议 + 推荐行动
```

### 会话恢复流程

```
用户再次进入智能体
    ↓
┌─────────────────────────────────────┐
│ AI：欢迎回来！                      │
│                                     │
│ 你的历史会话：                      │
│ 1. 2026-02-28 14:30 面试Java开发岗  │
│    （已完成 5/10 题，未完成）       │
│ 2. 2026-02-27 10:15 面试前端工程师  │
│    （已完成，总分 78 分）           │
│                                     │
│ 想继续之前的面试，还是开始新的？    │
└─────────────────────────────────────┘
    ↓
用户选择恢复会话
    ↓
【调取历史数据 → 注入新会话】
    ↓
AI："已为你恢复之前的面试会话，
     我们继续～第 6 题是..."
    ↓
续跑面试流程（从断点继续）
```

---

## 七、开发优先级（单 Agent 版）

```
P0 - MVP 核心功能
├── 模块 1: WeHan 求职助手基础版（单 Bot + 路由 Prompt）
├── 模块 2: 实时语音集成
├── 模块 3: 面试模拟工作流（上下文隔离）
└── B 端 API 集成

P1 - 重要功能
├── 模块 4: 简历解析（云端数据库存储）
├── 模块 5: 岗位匹配（B 端 API + 大模型）
└── 模块 6: 用户数据持久化与会话恢复

P2 - 扩展功能
├── 投递管理功能
├── 情绪记录追踪
└── 心理测评工作流
```

---

## 八、联调测试清单

### C 端独立测试

| 测试项 | 验收标准 |
|-------|---------|
| 智能体对话 | 多轮对话流畅，无死循环 |
| 语音通话 | 延迟 < 500ms，打断正常 |
| 面试流程 | 题目生成合理，报告完整 |
| 简历解析 | 字段提取准确率 > 90% |

### C-B 端联调测试

| 测试项 | 验收标准 |
|-------|---------|
| 岗位搜索 | 返回武汉地区真实岗位 |
| 投递功能 | C 端投递 → B 端可见 |
| 报告同步 | 面试报告保存到 B 端 |
| 数据隔离 | 用户只能看到自己的数据 |

---

## 九、部署与发布

### 发布流程

```
1. 扣子平台开发完成
    ↓
2. 内部测试（预览模式）
    ↓
3. 发布到豆包（提交审核）
    ↓
4. 审核通过（1-3 天）
    ↓
5. 豆包 App 上线
    ↓
6. 生成分享链接
    ↓
7. 推广运营
```

### 监控指标

| 指标 | 目标值 |
|-----|-------|
| 对话成功率 | > 95% |
| 语音接通率 | > 98% |
| 平均响应时间 | < 2s |
| 用户满意度 | > 4.5/5 |

---

*文档版本: 3.0 | 更新时间: 2026-02-28*
*更新内容: 纯 B 端 API 架构（移除知识库依赖）、API 测试验证结果、架构变更记录*
