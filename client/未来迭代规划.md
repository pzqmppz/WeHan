# WeHan 求职助手 - 未来迭代规划

> 记录 Demo 版本之后的改进方向，持续更新

---

## 当前 Demo 版本（v1.0）

### 已实现
- ✅ 3 个硬编码岗位（前端/后端/AI）
- ✅ 面试启动工作流
- ✅ 面试答题工作流
- ✅ 面试报告工作流
- ✅ B 端 API 对接（jobs, interviews）
- ✅ sys_uuid 作为用户标识

### 未实现
- ❌ 岗位动态查询（多轮对话筛选）
- ❌ 直接传入 JD 链接/文本
- ❌ 简历上传
- ❌ 简历解析

---

## 迭代方向

### 🔄 改进1：多轮对话筛选岗位

**用户场景**：
```
用户: "我想面试"
    ↓
Bot: "选择方向：1.技术 2.产品 3.运营 4.设计"
    ↓
用户: "运营"
    ↓
Bot: 调用 API 查询运营类岗位 → 返回列表
    ↓
Bot: "找到以下运营岗位：1.用户运营-字节 2.内容运营-腾讯..."
    ↓
用户: "第一个"
    ↓
Bot: 展示岗位详情（JD、薪资、地点）
    ↓
用户: "开始面试"
    ↓
【启动面试流程】
```

**需要新增**：

| 类型 | 内容 | 状态 |
|-----|------|------|
| B 端 API | `GET /api/open/jobs?category=xxx` | ⏳ 待开发 |
| B 端 API | `GET /api/open/jobs?keyword=xxx` | ⏳ 待开发 |
| 提示词 | 增加多轮引导逻辑 | ⏳ 待更新 |

**架构影响**：✅ 小
- 只需增加 API 调用
- 提示词增加对话分支

---

### 🔄 改进2：直接传入 JD 链接/文本

**用户场景**：
```
用户: [发送岗位链接] https://jobs.company.com/xxx
    ↓
Bot: 解析 JD 内容（大模型提取）
    - 岗位名称
    - 技能要求
    - 职责描述
    ↓
Bot: "识别到岗位：前端开发工程师，确认开始面试？"
    ↓
用户: "确认"
    ↓
【启动面试流程 - 使用 JD 文本生成题目】
```

**或直接粘贴文本**：
```
用户: "
岗位：高级前端工程师
职责：
1. 负责公司核心产品的前端开发
2. 优化前端性能和用户体验
要求：
- 5年以上前端开发经验
- 精通 React/Vue
- 熟悉 TypeScript
"
    ↓
Bot: 解析 JD → 确认 → 开始面试
```

**需要新增**：

| 类型 | 内容 | 状态 |
|-----|------|------|
| JD 解析 | 大模型提取关键信息 | ✅ 可用现有模型 |
| 链接解析 | HTTP 插件抓取网页 | ⚠️ 需测试稳定性 |
| 工作流参数 | 支持 `jd_text` 替代 `job_id` | ⏳ 待调整 |

**架构影响**：⚠️ 中等
- 工作流需要支持 `jd_text` 参数
- 或：先调用 API 创建临时岗位，返回 job_id

**测试要点**：
- 链接解析成功率
- 不同网站格式兼容性
- 大模型 JD 提取准确性

---

### 🔄 改进3：简历上传

**用户场景**：
```
用户: [上传简历 PDF/Word]
    ↓
Bot: 调用简历解析 API
    ↓
B端: 提取结构化信息 → 存储到数据库 → 返回 resume_id
    ↓
Bot: "简历已保存，面试时可以参考你的经历"
    ↓
【面试时可选择是否使用简历】
```

**简历解析输出**：
```json
{
  "name": "张三",
  "phone": "13800138000",
  "email": "zhangsan@example.com",
  "education": [
    {
      "school": "武汉大学",
      "major": "计算机科学",
      "degree": "本科",
      "startDate": "2020-09",
      "endDate": "2024-06"
    }
  ],
  "experiences": [...],
  "skills": ["JavaScript", "React", "TypeScript"],
  "projects": [...]
}
```

**需要新增**：

| 类型 | 内容 | 状态 |
|-----|------|------|
| B 端 API | `POST /api/open/resumes` (上传) | ⏳ 待开发 |
| B 端 API | `GET /api/open/resumes` (列表) | ⏳ 待开发 |
| B 端 API | `GET /api/open/resumes/{id}` (详情) | ⏳ 待开发 |
| 文件解析 | PDF/Word 解析 + 大模型提取 | ⏳ 待开发 |
| 工作流参数 | `resume_id` (可选) | ⏳ 待调整 |

**架构影响**：✅ 小
- `resume_id` 作为**可选参数**
- 不影响现有流程

**面试中使用简历**：
- 生成题目时参考简历经历
- 评估时结合简历背景
- 个性化面试体验

---

## 架构兼容性总结

| 改进 | 影响 | 改动范围 | 优先级 |
|-----|------|---------|-------|
| 多轮对话选岗位 | ✅ 小 | 提示词 + 1 个 API | P1 |
| 直接传 JD | ⚠️ 中 | 提示词 + 工作流参数 | P2 |
| 简历上传 | ✅ 小 | 3 个 API + 可选参数 | P1 |

**核心架构不变**：
- 单 Bot + 技能路由
- 工作流独立上下文
- sys_uuid 作为用户标识
- B 端数据库存储

---

## 迭代顺序建议

### 第一阶段（Demo 优先）
1. ✅ 完成当前面试流程闭环
2. ✅ 测试 3 个工作流
3. ✅ 发布到豆包

### 第二阶段（体验优化）
1. ⏳ 多轮对话筛选岗位
2. ⏳ 简历上传
3. ⏳ 面试题目个性化（结合简历）

### 第三阶段（功能扩展）
1. ⏳ 直接传 JD 链接/文本
2. ⏳ 岗位推荐（基于简历匹配）
3. ⏳ 面试历史查看

---

## 技术债务

| 问题 | 影响 | 解决方案 |
|-----|------|---------|
| 岗位 ID 硬编码 | 无法动态添加岗位 | 开发岗位查询 API |
| 无简历数据 | 面试不够个性化 | 开发简历上传功能 |
| 面试题目固定 | 体验单一 | 支持用户自定义 JD |

---

## 备注

- 本文档持续更新
- 新想法随时添加
- 开发时参考此文档评估影响

---

*创建时间: 2026-03-01*
*最后更新: 2026-03-01*
