# B ç«¯æŠ€æœ¯æ¡†æ¶ - æ‰èšæ±ŸåŸ

> æŒ‰æ¨¡å—å‚ç›´å¼€å‘åŸåˆ™è®¾è®¡ï¼Œé‡‡ç”¨åˆ†å±‚æ¶æ„

**æ›´æ–°æ—¶é—´**: 2026-02-27 | **ç‰ˆæœ¬**: 1.1

---

## ä¸€ã€æŠ€æœ¯æ ˆ

| å±‚çº§ | æŠ€æœ¯ | ç‰ˆæœ¬ |
|-----|------|-----|
| æ¡†æ¶ | Next.js | 16.x (App Router) |
| è¯­è¨€ | TypeScript | 5.x |
| UI ç»„ä»¶ | Ant Design | 5.x |
| æ ·å¼ | Tailwind CSS | 4.x |
| æ•°æ®åº“ ORM | Prisma | 5.x |
| æ•°æ®åº“ | PostgreSQL | 15.x |
| è®¤è¯ | NextAuth.js | 5.x |
| éªŒè¯ | Zod | 3.x |
| å›¾è¡¨ | @ant-design/charts | - |

---

## äºŒã€åˆ†å±‚æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        è¯·æ±‚æµå‘                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                â”‚
â”‚  â”‚   Client    â”‚  ç”¨æˆ·è¯·æ±‚                                      â”‚
â”‚  â”‚   (React)   â”‚                                                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                                                â”‚
â”‚         â”‚                                                       â”‚
â”‚         â–¼                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”‚
â”‚  â”‚  API Route  â”‚â”€â”€â”€â”€â–ºâ”‚   Zod       â”‚  è¾“å…¥éªŒè¯                  â”‚
â”‚  â”‚  /api/*     â”‚     â”‚   Validator â”‚                           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â”‚
â”‚         â”‚                                                       â”‚
â”‚         â–¼                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                â”‚
â”‚  â”‚   Service   â”‚  ä¸šåŠ¡é€»è¾‘å±‚                                     â”‚
â”‚  â”‚   Layer     â”‚  - æ•°æ®å¤„ç†                                    â”‚
â”‚  â”‚             â”‚  - ä¸šåŠ¡è§„åˆ™                                    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                                                â”‚
â”‚         â”‚                                                       â”‚
â”‚         â–¼                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                â”‚
â”‚  â”‚ Repository  â”‚  æ•°æ®è®¿é—®å±‚                                     â”‚
â”‚  â”‚   Layer     â”‚  - SQL æŸ¥è¯¢                                    â”‚
â”‚  â”‚             â”‚  - æ•°æ®æ˜ å°„                                    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                                                â”‚
â”‚         â”‚                                                       â”‚
â”‚         â–¼                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                â”‚
â”‚  â”‚  PostgreSQL â”‚  æ•°æ®å­˜å‚¨                                       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ä¸‰ã€ç›®å½•ç»“æ„ï¼ˆå·²æ›´æ–°ï¼‰

```
web/src/
â”œâ”€â”€ app/                          # Next.js App Router
â”‚   â”œâ”€â”€ (auth)/                   # è®¤è¯ç›¸å…³é¡µé¢
â”‚   â”‚   â”œâ”€â”€ login/page.tsx        # ç™»å½•é¡µ
â”‚   â”‚   â””â”€â”€ register/page.tsx     # æ³¨å†Œé¡µ
â”‚   â”œâ”€â”€ (dashboard)/              # Dashboard é¡µé¢
â”‚   â”‚   â”œâ”€â”€ enterprise/           # ä¼ä¸šé—¨æˆ·
â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx          # é¦–é¡µæ¦‚è§ˆ
â”‚   â”‚   â”‚   â”œâ”€â”€ jobs/             # å²—ä½ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ talent/           # äººæ‰åº“
â”‚   â”‚   â”‚   â”œâ”€â”€ applications/     # æŠ•é€’ç®¡ç†
â”‚   â”‚   â”‚   â””â”€â”€ interviews/       # é¢è¯•ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ government/           # æ”¿åºœé—¨æˆ·
â”‚   â”‚   â”œâ”€â”€ school/               # å­¦æ ¡é—¨æˆ·
â”‚   â”‚   â””â”€â”€ admin/                # ç®¡ç†å‘˜åå°
â”‚   â”œâ”€â”€ api/                      # API è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ auth/[...nextauth]/   # NextAuth è®¤è¯
â”‚   â”‚   â”œâ”€â”€ jobs/route.ts         # å²—ä½ API
â”‚   â”‚   â”œâ”€â”€ applications/route.ts # æŠ•é€’ API
â”‚   â”‚   â”œâ”€â”€ interviews/route.ts   # é¢è¯• API
â”‚   â”‚   â”œâ”€â”€ policies/route.ts     # æ”¿ç­– API
â”‚   â”‚   â””â”€â”€ open/                 # å¼€æ”¾ APIï¼ˆCç«¯è°ƒç”¨ï¼‰
â”‚   â”œâ”€â”€ layout.tsx
â”‚   â””â”€â”€ page.tsx
â”‚
â”œâ”€â”€ components/                   # React ç»„ä»¶
â”‚   â”œâ”€â”€ layout/                   # å¸ƒå±€ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ DashboardLayout.tsx   # ä¸»å¸ƒå±€ï¼ˆç²¾ç®€ç‰ˆï¼‰
â”‚   â”‚   â”œâ”€â”€ DashboardSider.tsx    # ä¾§è¾¹æ ï¼ˆç‹¬ç«‹ï¼‰
â”‚   â”‚   â”œâ”€â”€ DashboardHeader.tsx   # å¤´éƒ¨ï¼ˆç‹¬ç«‹ï¼‰
â”‚   â”‚   â”œâ”€â”€ menuConfig.ts         # èœå•é…ç½®
â”‚   â”‚   â”œâ”€â”€ PortalHeader.tsx
â”‚   â”‚   â””â”€â”€ PortalFooter.tsx
â”‚   â”œâ”€â”€ ui/                       # é€šç”¨ UI ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ DataTable/
â”‚   â”‚   â”œâ”€â”€ PageHeader/
â”‚   â”‚   â””â”€â”€ StatusTag/
â”‚   â””â”€â”€ forms/                    # è¡¨å•ç»„ä»¶
â”‚
â”œâ”€â”€ services/                     # ğŸ†• ä¸šåŠ¡é€»è¾‘å±‚
â”‚   â”œâ”€â”€ index.ts                  # ç»Ÿä¸€å¯¼å‡º
â”‚   â”œâ”€â”€ job.service.ts            # å²—ä½ä¸šåŠ¡é€»è¾‘
â”‚   â””â”€â”€ application.service.ts    # æŠ•é€’ä¸šåŠ¡é€»è¾‘
â”‚
â”œâ”€â”€ repositories/                 # ğŸ†• æ•°æ®è®¿é—®å±‚
â”‚   â”œâ”€â”€ index.ts                  # ç»Ÿä¸€å¯¼å‡º
â”‚   â”œâ”€â”€ base.repository.ts        # Repository åŸºç±»
â”‚   â”œâ”€â”€ job.repository.ts         # å²—ä½æ•°æ®è®¿é—®
â”‚   â””â”€â”€ application.repository.ts # æŠ•é€’æ•°æ®è®¿é—®
â”‚
â”œâ”€â”€ lib/                          # å·¥å…·åº“
â”‚   â”œâ”€â”€ prisma.ts                 # Prisma å®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ auth.ts                   # è®¤è¯é…ç½®
â”‚   â”œâ”€â”€ theme.ts                  # ğŸ†• Ant Design ä¸»é¢˜é…ç½®
â”‚   â”œâ”€â”€ utils.ts                  # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ validators/               # ğŸ†• Zod éªŒè¯ Schemas
â”‚   â”‚   â””â”€â”€ index.ts              # ç»Ÿä¸€éªŒè¯è§„åˆ™
â”‚   â””â”€â”€ mocks/                    # ğŸ†• Mock æ•°æ®
â”‚       â””â”€â”€ dashboard.mock.ts     # Dashboard Mock
â”‚
â”œâ”€â”€ hooks/                        # è‡ªå®šä¹‰ Hooks
â”‚   â”œâ”€â”€ index.ts                  # ç»Ÿä¸€å¯¼å‡º
â”‚   â””â”€â”€ useDashboardData.ts       # Dashboard æ•°æ® Hook
â”‚
â””â”€â”€ types/                        # TypeScript ç±»å‹
    â””â”€â”€ index.ts                  # ç±»å‹å®šä¹‰
```

---

## å››ã€æ ¸å¿ƒå±‚è¯¦è§£

### 4.1 API è·¯ç”±å±‚

**èŒè´£**: æ¥æ”¶è¯·æ±‚ã€è°ƒç”¨ Serviceã€è¿”å›å“åº”

```typescript
// app/api/jobs/route.ts
import { NextRequest, NextResponse } from 'next/server'
import { jobService } from '@/services'
import { JobQuerySchema, CreateJobSchema } from '@/lib/validators'
import { ZodError } from 'zod'

export async function GET(request: NextRequest) {
  try {
    // 1. éªŒè¯å‚æ•°
    const query = JobQuerySchema.parse(/* ... */)
    // 2. è°ƒç”¨ Service
    const result = await jobService.getJobs(query)
    // 3. è¿”å›å“åº”
    return NextResponse.json({ success: true, ...result })
  } catch (error) {
    if (error instanceof ZodError) {
      return NextResponse.json({ success: false, details: error.errors }, { status: 400 })
    }
    return NextResponse.json({ success: false, error: 'æœåŠ¡å™¨é”™è¯¯' }, { status: 500 })
  }
}
```

### 4.2 Service å±‚

**èŒè´£**: ä¸šåŠ¡é€»è¾‘å¤„ç†ã€æ•°æ®æ ¡éªŒã€è°ƒç”¨ Repository

```typescript
// services/job.service.ts
export const jobService = {
  async getJobs(query: JobQueryInput) {
    const { page, pageSize, industry, keyword } = query

    const filter: JobFilter = {}
    if (industry) filter.industry = industry
    if (keyword) filter.keyword = keyword

    const { jobs, total } = await jobRepository.findMany(filter, { page, pageSize })

    return {
      data: jobs,
      pagination: { page, pageSize, total, totalPages: Math.ceil(total / pageSize) },
    }
  },

  async createJob(input: CreateJobInput) {
    const validated = CreateJobSchema.parse(input)
    const job = await jobRepository.create(validated)
    return { data: job }
  },
}
```

### 4.3 Repository å±‚

**èŒè´£**: æ•°æ®åº“æ“ä½œã€SQL æŸ¥è¯¢

```typescript
// repositories/job.repository.ts
export const jobRepository = {
  async findMany(filter: JobFilter, pagination: JobPagination) {
    const where: Prisma.JobWhereInput = { status: filter.status }

    if (filter.keyword) {
      where.OR = [
        { title: { contains: filter.keyword, mode: 'insensitive' } },
      ]
    }

    const [jobs, total] = await Promise.all([
      prisma.job.findMany({ where, skip: ..., take: ... }),
      prisma.job.count({ where }),
    ])

    return { jobs, total }
  },

  async create(data: Prisma.JobCreateInput) {
    return prisma.job.create({ data })
  },
}
```

### 4.4 éªŒè¯å±‚

**èŒè´£**: è¿è¡Œæ—¶ç±»å‹éªŒè¯ã€è¾“å…¥æ ¡éªŒ

```typescript
// lib/validators/index.ts
import { z } from 'zod'

export const JobQuerySchema = z.object({
  page: z.coerce.number().int().min(1).default(1),
  pageSize: z.coerce.number().int().min(1).max(100).default(10),
  industry: z.string().optional(),
  keyword: z.string().optional(),
})

export const CreateJobSchema = z.object({
  title: z.string().min(1).max(200),
  enterpriseId: z.string().cuid(),
  salaryMin: z.number().int().min(0).optional(),
  salaryMax: z.number().int().min(0).optional(),
  description: z.string().min(1),
  // ...
})
```

---

## äº”ã€è®¾è®¡ç³»ç»Ÿ

### 5.1 ä¸»é¢˜é…ç½®

```typescript
// lib/theme.ts
export const theme: ThemeConfig = {
  token: {
    colorPrimary: '#1677FF',
    colorSuccess: '#52C41A',
    colorWarning: '#FAAD14',
    colorError: '#FF4D4F',
    borderRadius: 6,
  },
}
```

### 5.2 é¢œè‰²è§„èŒƒ

| ç”¨é€” | å˜é‡ | å€¼ |
|-----|------|---|
| ä¸»è‰² | --primary-500 | #1677FF |
| æˆåŠŸ | --success-main | #52C41A |
| è­¦å‘Š | --warning-main | #FAAD14 |
| é”™è¯¯ | --error-main | #FF4D4F |

### 5.3 ç»„ä»¶è§„èŒƒ

| è§„èŒƒ | å€¼ |
|-----|---|
| é¡µé¢æ ‡é¢˜ | `text-2xl font-semibold mb-6` |
| å¡ç‰‡æ ·å¼ | `bg-white rounded-lg shadow-sm` |
| æŒ‰é’®é«˜åº¦ | é»˜è®¤ 32pxï¼Œå¤§æŒ‰é’® 40px |
| è¡¨æ ¼æ“ä½œåˆ— | 120-180px |

---

## å…­ã€Mock æ•°æ®

### 6.1 Mock æ–‡ä»¶ç»“æ„

```typescript
// lib/mocks/dashboard.mock.ts
export const mockEnterpriseDashboard = {
  statistics: { todayApplications: 12, pendingResumes: 28, ... },
  recentApplications: [...],
  hotJobs: [...],
}

export function mockApiResponse<T>(data: T, delay = 300) {
  return new Promise(resolve => setTimeout(() => resolve({ data, success: true }), delay))
}
```

### 6.2 Hook ä½¿ç”¨ Mock

```typescript
// hooks/useDashboardData.ts
export function useEnterpriseDashboard() {
  const [data, setData] = useState(null)
  const [loading, setLoading] = useState(true)

  useEffect(() => {
    const fetchData = async () => {
      // å¼€å‘é˜¶æ®µä½¿ç”¨ Mock
      const result = mockEnterpriseDashboard
      await mockDelay(300)
      setData(result)
    }
    fetchData()
  }, [])

  return { data, loading, refetch: () => setLoading(true) }
}
```

---

## ä¸ƒã€ç»„ä»¶æ‹†åˆ†

### 7.1 Layout ç»„ä»¶ç»“æ„

```
components/layout/
â”œâ”€â”€ DashboardLayout.tsx    # ä¸»å¸ƒå±€ï¼ˆ~50 è¡Œï¼‰
â”œâ”€â”€ DashboardSider.tsx     # ä¾§è¾¹æ ï¼ˆ~80 è¡Œï¼‰
â”œâ”€â”€ DashboardHeader.tsx    # å¤´éƒ¨ï¼ˆ~50 è¡Œï¼‰
â”œâ”€â”€ menuConfig.ts          # èœå•é…ç½®ï¼ˆ~100 è¡Œï¼‰
â”œâ”€â”€ PortalHeader.tsx
â”œâ”€â”€ PortalFooter.tsx
â””â”€â”€ index.ts               # ç»Ÿä¸€å¯¼å‡º
```

### 7.2 èœå•é…ç½®

```typescript
// components/layout/menuConfig.ts
export const menuItems: Record<UserRole, MenuProps['items']> = {
  enterprise: [
    { key: '/dashboard/enterprise', icon: <DashboardOutlined />, label: <Link href="...">é¦–é¡µæ¦‚è§ˆ</Link> },
    { key: '/dashboard/enterprise/jobs', icon: <FileTextOutlined />, label: <Link href="...">å²—ä½ç®¡ç†</Link> },
    // ...
  ],
  // ...
}
```

---

## å…«ã€API å“åº”è§„èŒƒ

### æˆåŠŸå“åº”

```json
{
  "success": true,
  "data": { ... },
  "meta": {
    "page": 1,
    "pageSize": 10,
    "total": 100,
    "totalPages": 10
  }
}
```

### é”™è¯¯å“åº”

```json
{
  "success": false,
  "error": "é”™è¯¯ä¿¡æ¯",
  "code": "VALIDATION_ERROR",
  "details": [...]
}
```

---

## ä¹ã€å¼€å‘ä¼˜å…ˆçº§

```
P0 - å·²å®Œæˆ âœ…
â”œâ”€â”€ âœ… Zod éªŒè¯ Schemas
â”œâ”€â”€ âœ… Service å±‚æ¶æ„
â”œâ”€â”€ âœ… Repository å±‚æ¶æ„
â”œâ”€â”€ âœ… Mock æ•°æ®æŠ½å–
â”œâ”€â”€ âœ… ç»„ä»¶æ‹†åˆ†
â””â”€â”€ âœ… è®¾è®¡ç³»ç»Ÿé…ç½®

P1 - å·²å®Œæˆ âœ…
â”œâ”€â”€ âœ… è®¤è¯æˆæƒæ¨¡å— (NextAuth v5)
â”œâ”€â”€ âœ… å²—ä½ç®¡ç† CRUD (å‘å¸ƒ/ç¼–è¾‘/ä¸Šä¸‹æ¶/åˆ é™¤)
â”œâ”€â”€ âœ… æŠ•é€’ç®¡ç† (åˆ—è¡¨/çŠ¶æ€æµè½¬/è¯„ä¼°æŠ¥å‘Š)
â””â”€â”€ âœ… äººæ‰åº“ (åˆ—è¡¨/ç­›é€‰/ç®€å†è¯¦æƒ…)

P2 - å¾…å¼€å‘
â”œâ”€â”€ â³ é¢è¯•é—®é¢˜ä¸Šä¼  (ä¼ä¸šè‡ªå®šä¹‰é¢è¯•é¢˜)
â”œâ”€â”€ â³ é¢è¯•ç®¡ç† (AIé¢è¯•è®°å½•/æŠ¥å‘ŠæŸ¥çœ‹)
â”œâ”€â”€ â³ æ”¿ç­–ç®¡ç† (å‘å¸ƒ/åˆ—è¡¨)
â”œâ”€â”€ â³ æ•°æ®ç»Ÿè®¡ (å®Œæ•´ç‰ˆ)
â”œâ”€â”€ â³ å€™é€‰äººå¯¹æ¯”
â””â”€â”€ â³ ç®¡ç†å‘˜åå°
```

---

## åã€ä»£ç è§„èŒƒ

### 10.1 ç¦æ­¢äº‹é¡¹

| ç¦æ­¢ | åŸå›  | æ›¿ä»£æ–¹æ¡ˆ |
|-----|------|---------|
| `any` ç±»å‹ | ç±»å‹ä¸å®‰å…¨ | ä½¿ç”¨ Zod ç±»å‹æ¨æ–­ |
| è¡Œå†…æ ·å¼ `style={{}}` | æ ·å¼ä¸ä¸€è‡´ | Tailwind ç±»å |
| ç¡¬ç¼–ç é¢œè‰² | ä¸»é¢˜ä¸ç»Ÿä¸€ | ä½¿ç”¨è®¾è®¡ç³»ç»Ÿå˜é‡ |
| Emoji å›¾æ ‡ | ä¸ä¸“ä¸š | @ant-design/icons |
| Mock æ•°æ®åœ¨ç»„ä»¶ä¸­ | éš¾ä»¥ç»´æŠ¤ | æŠ½å–åˆ° mocks/ |

### 10.2 å‘½åè§„èŒƒ

| ç±»å‹ | è§„èŒƒ | ç¤ºä¾‹ |
|-----|------|------|
| ç»„ä»¶ | PascalCase | `JobList.tsx` |
| Service | camelCase + .service | `job.service.ts` |
| Repository | camelCase + .repository | `job.repository.ts` |
| Hook | use å‰ç¼€ | `useDashboardData.ts` |
| Schema | Schema åç¼€ | `CreateJobSchema` |

---

## åä¸€ã€æ–‡æ¡£ç´¢å¼•

| æ–‡æ¡£ | è·¯å¾„ |
|-----|------|
| è®¾è®¡ç³»ç»Ÿ | [docs/design-system.md](../docs/design-system.md) |
| æ•°æ®æ¨¡å‹ | [codemaps/data-models.md](./data-models.md) |
| æ€»ä½“æ¶æ„ | [codemaps/architecture.md](./architecture.md) |

---

*æ–‡æ¡£ç‰ˆæœ¬: 1.2 | æ›´æ–°æ—¶é—´: 2026-02-27 | å˜æ›´: P1é˜¶æ®µå®Œæˆï¼Œæ›´æ–°å¼€å‘ä¼˜å…ˆçº§*
